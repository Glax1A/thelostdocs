<!DOCTYPE html>
<html>
<head>
	<title>Chase Game</title>
	<style>
		body {
			margin: 0;
			padding: 0;
		}

		#player {
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			width: 50px;
			height: 50px;
			background-color: red;
			border-radius: 50%;
		}

		#target {
			position: absolute;
			top: 100px;
			left: 100px;
			width: 50px;
			height: 50px;
			background-color: green;
			border-radius: 50%;
		}
	</style>
</head>
<body>
	<div id="player"></div>
	<div id="target"></div>
	<script>
		const player = document.querySelector("#player");
		const target = document.querySelector("#target");

		let score = 0;
		let isGameOver = false;

		function randomPosition() {
			return Math.floor(Math.random() * 85) + "vh";
		}

		function updateTarget() {
			target.style.top = randomPosition();
			target.style.left = randomPosition();
		}

		function increaseScore() {
			score++;
			console.log("Score: ", score);
			updateTarget();
		}

		function endGame() {
			isGameOver = true;
			alert("Game Over! Your final score is: " + score);
		}

		function moveTargetAway() {
			const playerPosition = player.getBoundingClientRect();
			const targetPosition = target.getBoundingClientRect();

			const targetX = targetPosition.left + targetPosition.width / 2;
			const targetY = targetPosition.top + targetPosition.height / 2;

			const playerX = playerPosition.left + playerPosition.width / 2;
			const playerY = playerPosition.top + playerPosition.height / 2;

			const deltaX = targetX - playerX;
			const deltaY = targetY - playerY;
			const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);

			if (distance < 150) {
				const angle = Math.atan2(deltaY, deltaX);
				const directionX = Math.cos(angle) * -10;
				const directionY = Math.sin(angle) * -10;

				target.style.left = targetPosition.left - directionX + "px";
				target.style.top = targetPosition.top - directionY + "px";
			}
		}

		setInterval(() => {
			if (!isGameOver) {
				moveTargetAway();
			}
		}, 100);

		player.addEventListener("mouseover", () => {
			if (!isGameOver) {
				increaseScore();
			}
		});

		setTimeout(() => {
			if (!isGameOver) {
				endGame();
			}
		}, 30000);
	</script>
</body>
</html>

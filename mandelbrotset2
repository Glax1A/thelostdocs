<!DOCTYPE html>
<html>
<head>
  <style>
    #canvas {
      width: 500px;
      height: 500px;
      border: 1px solid black;
    }
  </style>
</head>
<body>
  <canvas id="canvas"></canvas>
</body>
<script>
    const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

const width = canvas.width;
const height = canvas.height;

const maxIterations = 100;

for (let x = 0; x < width; x++) {
  for (let y = 0; y < height; y++) {
    let real = (x - width / 2) * 4 / width;
    let imag = (y - height / 2) * 4 / width;

    let c = real + imag * Math.imul(imag, -1);
    let z = 0 + 0 * Math.imul(0, -1);

    let iterations = 0;

    while (iterations < maxIterations && z.real * z.real + z.imag * z.imag < 4) {
      let real2 = z.real * z.real - z.imag * z.imag;
      let imag2 = 2 * z.real * z.imag;
      z.real = real2 + c.real;
      z.imag = imag2 + c.imag;
      iterations++;
    }

    let color = iterations === maxIterations ? 0 : iterations * 255 / maxIterations;
    ctx.fillStyle = `rgb(${color}, ${color}, ${color})`;
    ctx.fillRect(x, y, 1, 1);
  }
}

</script>
</html>

<!DOCTYPE html>
<html>
  <head>
    <style>
      #canvas {
        width: 500px;
        height: 500px;
      }
    </style>
  </head>
  <body>
    <canvas id="canvas"></canvas>
    <script>
      const canvas = document.getElementById("canvas");
      const ctx = canvas.getContext("2d");
      
      const width = canvas.width;
      const height = canvas.height;
      
      const xMin = -2;
      const xMax = 2;
      const yMin = -2;
      const yMax = 2;
      
      for (let x = 0; x < width; x++) {
        for (let y = 0; y < height; y++) {
          const real = xMin + x * (xMax - xMin) / (width - 1);
          const imag = yMin + y * (yMax - yMin) / (height - 1);
          
          let ZnRe = real;
          let ZnIm = imag;
          let ZnRe2 = ZnRe * ZnRe;
          let ZnIm2 = ZnIm * ZnIm;
          
          let iterations = 0;
          while (iterations < 100 && ZnRe2 + ZnIm2 < 4) {
            const ZnImTmp = 2 * ZnRe * ZnIm;
            ZnRe = ZnRe2 - ZnIm2 + real;
            ZnIm = ZnImTmp + imag;
            ZnRe2 = ZnRe * ZnRe;
            ZnIm2 = ZnIm * ZnIm;
            iterations++;
          }
          
          const color = iterations === 100 ? "#000000" : `hsl(${iterations / 100 * 360}, 100%, 50%)`;
          ctx.fillStyle = color;
          ctx.fillRect(x, y, 1, 1);
        }
      }
    </script>
  </body>
</html>

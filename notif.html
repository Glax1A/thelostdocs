<!DOCTYPE html>
<html>
<head>
  <title>Reminder</title>
  <style>

body {
  font-family: Arial, sans-serif;
  margin: 20px;
}

h1 {
  text-align: center;
}

label {
  display: block;
  margin-top: 10px;
}

input[type="number"],
input[type="time"] {
  width: 100px;
  margin-top: 5px;
}

button {
  margin-top: 10px;
}

    
  </style>
</head>
<body>
  <h1>Reminder</h1>
  <label for="interval">Interval (minutes):</label>
  <input type="number" id="interval" min="1">
  <br>
  <label for="pauseStart">Pause Start Time:</label>
  <input type="time" id="pauseStart">
  <br>
  <label for="pauseEnd">Pause End Time:</label>
  <input type="time" id="pauseEnd">
  <br>
  <button id="startButton">Start</button>

  <script>

// Request permission for displaying notifications
function requestNotificationPermission() {
  return new Promise(function(resolve, reject) {
    if (!("Notification" in window)) {
      reject("Notifications not supported in this browser");
    } else if (Notification.permission === "granted") {
      resolve();
    } else if (Notification.permission !== "denied") {
      Notification.requestPermission().then(function(permission) {
        if (permission === "granted") {
          resolve();
        } else {
          reject("Permission denied for notifications");
        }
      });
    } else {
      reject("Permission denied for notifications");
    }
  });
}

// Create a notification
function createNotification() {
  var notification = new Notification("Reminder", {
    body: "Time for a reminder!",
    icon: "notification-icon.png"
  });
}

// Start the reminder
function startReminder() {
  var intervalInput = document.getElementById("interval");
  var pauseStartInput = document.getElementById("pauseStart");
  var pauseEndInput = document.getElementById("pauseEnd");

  var interval = parseInt(intervalInput.value) * 60000; // Convert minutes to milliseconds

  // Check if the input values are valid
  if (isNaN(interval) || interval <= 0) {
    alert("Please enter a valid interval");
    return;
  }

  var pauseStart = pauseStartInput.value;
  var pauseEnd = pauseEndInput.value;

  // Check if the pause time inputs are valid
  if (pauseStart > pauseEnd) {
    alert("Please enter a valid pause time range");
    return;
  }

  // Parse pause time inputs into time values
  var pauseStartTime = new Date();
  var pauseEndTime = new Date();
  var currentTime = new Date();

  pauseStartTime.setHours(parseInt(pauseStart.slice(0, 2)));
  pauseStartTime.setMinutes(parseInt(pauseStart.slice(3, 5)));
  pauseEndTime.setHours(parseInt(pauseEnd.slice(0, 2)));
  pauseEndTime.setMinutes(parseInt(pauseEnd.slice(3, 5)));

  // Check if the current time is within the pause time range
  if (pauseStartTime <= currentTime && currentTime <= pauseEndTime) {
    alert("Reminders are paused at the moment");
    return;
  }

  // Schedule reminders
  var intervalId = setInterval(function() {
    currentTime = new Date();
    if (pauseStartTime <= currentTime && currentTime <= pauseEndTime) {
      return;
    }
    createNotification();
  }, interval);
}

// Event listener for the start button
document.getElementById("startButton").addEventListener("click", function() {
  requestNotificationPermission()
    .then(startReminder)
    .catch(function(error) {
      console.error(error);
    });
});

    
  </script>
</body>
</html>
